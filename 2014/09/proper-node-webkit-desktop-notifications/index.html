<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>proper node-webkit desktop notifications | @edjafarov</title>
  <meta name="author" content="Eldar Djafarov">
  
  <meta name="description" content="edjafarov blog, javascript, nodejs, compy, component">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="proper node-webkit desktop notifications"/>
  <meta property="og:site_name" content="@edjafarov"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="@edjafarov" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css?v=1" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-317979-12', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">@edjafarov</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
<div class="alignleft" style="margin-top: 15px">


</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
  
    <h1 class="title">proper node-webkit desktop notifications</h1>
  

      
        <p class="published">
          Published: <time datetime="2014-09-16T15:39:41.000Z">Sep 16 2014</time>
        </p>
      
    </header>
    <div class="entry">
      
        <p>Desktop notifications plays an important role in success of desktop apps since is allowing to bring attention of a user when something is happenning.</p>
<p>So far in node-webkit we have several solutions for desktop notifications.</p>
<p>1) <a href="https://github.com/rogerwang/node-webkit/issues/27" target="_blank" rel="external">HTML5 notifications</a></p>
<ul>
<li><strong>pros:</strong> is a html5 standart, same as in web.</li>
<li><strong>cons:</strong> looks differently in differen OSes, low interaction capabilities, have bugs for node-webkit:)</li>
</ul>
<p>2) <a href="https://github.com/robrighter/nw-desktop-notifications" target="_blank" rel="external">NW Desktop Notifications</a></p>
<ul>
<li><strong>pros:</strong> customizable, same in different OSes.</li>
<li><strong>cons:</strong> no interaction, animations are ugly, API is not a standart.</li>
</ul>
<p>3) <a href="https://github.com/mikaelbr/node-notifier" target="_blank" rel="external">node-notifier</a></p>
<ul>
<li><strong>pros:</strong> you can do it from node, you can use standart OSes notification systems (win8 is coming soon!).</li>
<li><strong>cons:</strong> looks differently in differen OSes, low interaction.</li>
</ul>
<p>All those solutions were not working for me. Thus I had to create another one. Based on same idea as NW Desktop Notifications but implemented a little bit better.</p>
<p><a href="https://github.com/edjafarov/node-webkit-desktop-notification" target="_blank" rel="external">node-webkit-desktop-notifications</a> should become drop-in replacement for HTML5 notifications. So ideally you just use it instead of html5 Notification with some more API around. And if the code is executed in node-webkit context it does all kinds of rich notifications otherwise it degrades to html5.</p>
<p>Additionally to simple notifications you will get ability to build any complex interations inside your notification. Like change layout, buttons, textfields or gestures.</p>
<h3 id="how_to_build_interactive_notifications">how to build interactive notifications</h3><p>The notification itself is a window. Thus it has itâ€™s own context, html and css/javascript. Rich interactions are built on events. You can emit events on the window object inside notification window and catch them on DesktopNotification instance inside your application. So you can build any kind of presentation and keep interaction inside your appcode.</p>
<h3 id="use_it">use it</h3><p>To use the lib in your app you need to take 2 files:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">src/desktopNotification<span class="class">.js</span></span><br><span class="line">src/desktopNotification.html</span><br></pre></td></tr></table></figure>
<p>You need to place them in same folder of your app. Load <code>desktopNotification.js</code> to your index.html to use the <code>DesktopNotification</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> notif = <span class="keyword">new</span> DesktopNotification(<span class="string">'Hello'</span>, &#123;body: <span class="string">'World'</span>&#125;);</span><br><span class="line">notif.show();</span><br></pre></td></tr></table></figure>
<p>check other ways to use <code>DesktopNotification</code> in <a href="https://github.com/edjafarov/node-webkit-desktop-notification/blob/master/src/index.html" target="_blank" rel="external">example</a>.</p>
<h3 id="try_live">try live</h3><ul>
<li>Fetch the <a href="https://github.com/edjafarov/node-webkit-desktop-notification" target="_blank" rel="external">repo</a></li>
<li>npm install</li>
<li>npm start</li>
<li>find an app for your OS in build/node-webkit-desktop-notification</li>
<li><a href="http://screencast.com/t/bUxB6vNvW8BN" target="_blank" rel="external">play</a></li>
</ul>

      
    </div>
    <footer>
        <div class="addthis addthis_toolbox addthis_default_style">
<a href="https://twitter.com/share" class="twitter-share-button" data-via="edjafarov">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </div>

      <br/>
      
      Latest:
      <ul class="list-unstyled">
      
         <li>
              <a href="/2015/08/PromisePipe-basics/">PromisePipe: basics</a>
            </li>
          
         <li>
              <a href="/2015/07/PromisePipe-debugging/">PromisePipe: debugging</a>
            </li>
          
         <li>
              <a href="/2015/06/PromisePipe-cross-process-homogenous-Promise-chains/">PromisePipe: cross process homogenous Promise chains</a>
            </li>
          
         <li>
              <a href="/2015/06/Responsibility-is-the-best-Motivation/">Responsibility is the best Motivation</a>
            </li>
          
         <li>
              <a href="/2015/01/the-holy-grail-promise-pipes/">The Holy Grail: promise pipes</a>
            </li>
          
         <li>
              <a href="/2014/09/proper-node-webkit-desktop-notifications/">proper node-webkit desktop notifications</a>
            </li>
          
         <li>
              <a href="/2014/07/semantic-styling/">semantic styling</a>
            </li>
          
         <li>
              <a href="/2014/06/node-webkit-autoupdate/">node-webkit autoupdate</a>
            </li>
          
         <li>
              <a href="/2014/05/framework-vs-microlib-architecture/">framework vs microlib architecture</a>
            </li>
          
         <li>
              <a href="/2014/04/angular-is-evil-overengineering/">Angularjs is evil: overengineering hell</a>
            </li>
          
      </ul>
      
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>
<!-- hackish -->

  <section id="comment">
</section>
</div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Eldar Djafarov
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
